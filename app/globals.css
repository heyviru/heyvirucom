@tailwind base;
@tailwind components;
@tailwind utilities;

:root {
  --bg: #0d0d0d;
  --paper: #f6f6f2;
  --ink: #111213;
  --muted: #6f7175;
  --accent: #cbd5e1; /* subtle cool gray */
}

html { color-scheme: light; }
body {
  /* stacked paper textures: ruled lines + crosshatch */
  background:
    repeating-linear-gradient(0deg, rgba(0,0,0,0.035) 0px, rgba(0,0,0,0.035) 1px, transparent 1px, transparent 6px),
    repeating-linear-gradient(90deg, rgba(0,0,0,0.02) 0px, rgba(0,0,0,0.02) 1px, transparent 1px, transparent 10px),
    #f7f7f2;
  color: var(--ink);
  font-family: var(--font-inter), ui-sans-serif, system-ui;
}

/* subtle grain overlay */
body::before {
  content: "";
  position: fixed;
  inset: 0;
  pointer-events: none;
  z-index: 0;
  background-image:
    radial-gradient(rgba(0,0,0,0.05) 1px, transparent 1px),
    radial-gradient(rgba(0,0,0,0.03) 1px, transparent 1px);
  background-size: 3px 3px, 5px 5px;
  background-position: 0 0, 2px 1px;
  opacity: .25;
  mix-blend-mode: multiply;
}

/* Focus styles */
:where(a, button, input, [role='button'], [role='link']):focus-visible {
  outline: 2px dashed var(--ink);
  outline-offset: 2px;
}

.font-display { font-family: var(--font-patrick-hand), var(--font-caveat), ui-sans-serif, system-ui; }
.font-body { font-family: var(--font-comic-neue), var(--font-inter), ui-sans-serif, system-ui; }

.chip { @apply rounded-full border border-black/40 px-3 py-1.5 text-sm text-black/80 whitespace-nowrap bg-[rgba(0,0,0,0.02)]; box-shadow: 2px 2px 0 rgba(0,0,0,0.25); }
.chip--active { @apply bg-black/5 text-black; }

/* Reduce motion support */
@media (prefers-reduced-motion: reduce) {
  * {
    animation: none !important;
    transition: none !important;
    scroll-behavior: auto !important;
  }
}
/* remove CRA template tailwind v4 directives */

@layer components {
  .neon-text { color: var(--ink); }
  .btn-primary { @apply rounded-lg px-5 py-2 border border-black/60 bg-[rgba(0,0,0,0.03)] text-black shadow-[2px_2px_0_rgba(0,0,0,0.35)] hover:-translate-y-[1px] transition; }
  .btn-outline { @apply rounded-lg px-5 py-2 border border-black/40 bg-transparent shadow-[2px_2px_0_rgba(0,0,0,0.2)] hover:bg-black/5 transition; }
  .section { @apply mx-auto max-w-6xl px-4 py-10; }
  .section-tight { @apply relative mx-auto max-w-6xl px-3 py-8; }
  .paper-card { background: var(--paper); box-shadow: 6px 6px 0 rgba(0,0,0,0.25); border: 1px solid rgba(0,0,0,0.35); }
  .ink-stroke { position: relative; }
  .ink-stroke::after { content: ""; position: absolute; inset: 0; border: 2px dashed rgba(0,0,0,0.5); pointer-events: none; mix-blend-mode: multiply; }
}

/* prune unused font utilities */

/* Variable font morphing (uses Recursive) */
@property --wght { syntax: '<number>'; inherits: true; initial-value: 700; }
@property --wdth { syntax: '<number>'; inherits: true; initial-value: 100; }
@property --slnt { syntax: '<number>'; inherits: true; initial-value: 0; }

.font-morph {
  font-family: var(--font-recursive), ui-sans-serif, system-ui;
  /* start values tuned to keep apparent size steady */
  --wght: 700;
  --wdth: 100;
  --slnt: 0;
  font-variation-settings:
    "wght" var(--wght),
    "wdth" var(--wdth),
    "slnt" var(--slnt),
    "MONO" 0,
    "CASL" 0.4;
  letter-spacing: -0.01em;
}

@keyframes fontMorph {
  0%   { --wght: 560; --wdth: 95;  --slnt: 0; }
  33%  { --wght: 740; --wdth: 102; --slnt: 0; }
  66%  { --wght: 620; --wdth: 98;  --slnt: -6; }
  100% { --wght: 680; --wdth: 100; --slnt: 0; }
}

.font-morph-anim { animation: fontMorph 0.2s cubic-bezier(0.22,1,0.36,1) infinite alternate; }
/* Crossfade helper for font cycle */
@keyframes crossfade {
  0% { opacity: 0; }
  100% { opacity: 1; }
}

.font-crossfade-in { animation: crossfade 0.2s ease forwards; }

@media (prefers-reduced-motion: reduce) {
  .font-morph-anim { animation: none; }
}

/* hand-drawn reveal animation for doodles */
@keyframes pencilStroke {
  from { filter: opacity(0.0) contrast(80%); }
  to { filter: opacity(1) contrast(100%); }
}
.scribble-draw { animation: pencilStroke var(--dur,1s) ease-out both; }
